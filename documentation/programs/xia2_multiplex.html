

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>xia2.multiplex &#8212; DIALS  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link rel="stylesheet" href="../../_static/dials-styles.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="dials.show" href="dials_show.html" />
    <link rel="prev" title="dials.export" href="dials_export.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="logoheader container">
  <a href="../../index.html">
  <img class="logoheader" alt="DIALS" src="../../_static/dials_header.png" />
  </a>
  </div>
  

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="xia2-multiplex">
<h1>xia2.multiplex<a class="headerlink" href="#xia2-multiplex" title="Permalink to this heading">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>xia2.multiplex performs symmetry analysis, scaling and merging of multi-crystal data
sets, as well as analysis of various pathologies that typically affect multi-crystal
data sets, including non-isomorphism, radiation damage and preferred orientation.</p>
<p>It uses a number of DIALS programs internally, including dials.cosym,
dials.two_theta_refine, dials.scale and dials.symmetry:</p>
<ul class="simple">
<li><p>Preliminary filtering of datasets using hierarchical unit cell clustering</p></li>
<li><p>Laue group determination and resolution of indexing ambiguities with dials.cosym</p></li>
<li><p>Determination of “best” overall unit cell with dials.two_theta_refine</p></li>
<li><p>Initial round of scaling with dials.scale</p></li>
<li><p>Estimation of resolution limit with dials.estimate_resolution</p></li>
<li><p>Final round of scaling after application of the resolution limit</p></li>
<li><p>Analysis of systematic absences with dials.symmetry</p></li>
<li><p>Optional ΔCC½ filtering to remove outlier data sets</p></li>
<li><p>Analysis of non-isomorphism, radiation damage and preferred orientation</p></li>
</ul>
<p>For further details, and to cite usage, please see:
<a class="reference external" href="https://doi.org/10.1107/S2059798322004399">Gildea, R. J. et al. (2022) Acta Cryst. D78, 752-769</a>.</p>
</section>
<section id="examples-use-cases">
<h2>Examples use cases<a class="headerlink" href="#examples-use-cases" title="Permalink to this heading">¶</a></h2>
<p>Multiple integrated experiments and reflections in combined files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xia2</span><span class="o">.</span><span class="n">multiplex</span> <span class="n">integrated</span><span class="o">.</span><span class="n">expt</span> <span class="n">integrated</span><span class="o">.</span><span class="n">refl</span>
</pre></div>
</div>
<p>Integrated experiments and reflections in separate input files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xia2</span><span class="o">.</span><span class="n">multiplex</span> <span class="n">integrated_1</span><span class="o">.</span><span class="n">expt</span> <span class="n">integrated_1</span><span class="o">.</span><span class="n">refl</span> \
  <span class="n">integrated_2</span><span class="o">.</span><span class="n">expt</span> <span class="n">integrated_2</span><span class="o">.</span><span class="n">refl</span>
</pre></div>
</div>
<p>Override the automatic space group determination and resolution estimation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xia2</span><span class="o">.</span><span class="n">multiplex</span> <span class="n">space_group</span><span class="o">=</span><span class="n">C2</span> <span class="n">resolution</span><span class="o">.</span><span class="n">d_min</span><span class="o">=</span><span class="mf">2.5</span> \
  <span class="n">integrated_1</span><span class="o">.</span><span class="n">expt</span> <span class="n">integrated_1</span><span class="o">.</span><span class="n">refl</span> \
  <span class="n">integrated_2</span><span class="o">.</span><span class="n">expt</span> <span class="n">integrated_2</span><span class="o">.</span><span class="n">refl</span>
</pre></div>
</div>
<p>Filter potential outlier data sets using the ΔCC½ method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xia2</span><span class="o">.</span><span class="n">multiplex</span> <span class="n">filtering</span><span class="o">.</span><span class="n">method</span><span class="o">=</span><span class="n">deltacchalf</span> \
  <span class="n">integrated</span><span class="o">.</span><span class="n">expt</span> <span class="n">integrated</span><span class="o">.</span><span class="n">refl</span>
</pre></div>
</div>
</section>
<section id="basic-parameters">
<h2>Basic parameters<a class="headerlink" href="#basic-parameters" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unit_cell_clustering</span> <span class="p">{</span>
  <span class="n">threshold</span> <span class="o">=</span> <span class="mi">5000</span>
  <span class="n">log</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">}</span>
<span class="n">scaling</span> <span class="p">{</span>
  <span class="n">anomalous</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">brotation</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">secondary</span> <span class="p">{</span>
  <span class="p">}</span>
  <span class="n">model</span> <span class="o">=</span> <span class="n">physical</span> <span class="n">dose_decay</span> <span class="n">array</span> <span class="n">KB</span> <span class="o">*</span><span class="n">auto</span>
  <span class="n">outlier_rejection</span> <span class="o">=</span> <span class="n">simple</span> <span class="n">standard</span>
  <span class="n">min_partiality</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">partiality_cutoff</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">reflection_selection</span> <span class="p">{</span>
    <span class="n">method</span> <span class="o">=</span> <span class="n">quasi_random</span> <span class="n">intensity_ranges</span> <span class="n">use_all</span> <span class="n">random</span>
    <span class="n">Isigma_range</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">symmetry</span> <span class="p">{</span>
  <span class="n">resolve_indexing_ambiguity</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">cosym</span> <span class="p">{</span>
    <span class="n">normalisation</span> <span class="o">=</span> <span class="n">kernel</span> <span class="n">quasi</span> <span class="o">*</span><span class="n">ml_iso</span> <span class="n">ml_aniso</span>
    <span class="n">d_min</span> <span class="o">=</span> <span class="n">Auto</span>
    <span class="n">min_i_mean_over_sigma_mean</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">min_cc_half</span> <span class="o">=</span> <span class="mf">0.6</span>
    <span class="n">lattice_group</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">space_group</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">lattice_symmetry_max_delta</span> <span class="o">=</span> <span class="mf">5.0</span>
    <span class="n">best_monoclinic_beta</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">dimensions</span> <span class="o">=</span> <span class="n">Auto</span>
    <span class="n">use_curvatures</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">weights</span> <span class="o">=</span> <span class="n">count</span> <span class="n">standard_error</span>
    <span class="n">min_pairs</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">minimization</span> <span class="p">{</span>
      <span class="n">engine</span> <span class="o">=</span> <span class="o">*</span><span class="n">scitbx</span> <span class="n">scipy</span>
      <span class="n">max_iterations</span> <span class="o">=</span> <span class="mi">100</span>
      <span class="n">max_calls</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">laue_group</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">space_group</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">}</span>
<span class="n">resolution</span> <span class="p">{</span>
  <span class="n">d_max</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">d_min</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">cc_half_method</span> <span class="o">=</span> <span class="n">half_dataset</span> <span class="o">*</span><span class="n">sigma_tau</span>
  <span class="n">reflections_per_bin</span> <span class="o">=</span> <span class="mi">10</span>
  <span class="n">labels</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">reference</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">emax</span> <span class="o">=</span> <span class="mi">4</span>
<span class="p">}</span>
<span class="n">rescale_after_resolution_cutoff</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">filtering</span> <span class="p">{</span>
  <span class="n">method</span> <span class="o">=</span> <span class="kc">None</span> <span class="n">deltacchalf</span>
  <span class="n">deltacchalf</span> <span class="p">{</span>
    <span class="n">max_cycles</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">max_percent_removed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">min_completeness</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="n">dataset</span> <span class="n">image_group</span>
    <span class="n">group_size</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">stdcutoff</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">multi_crystal_analysis</span> <span class="p">{</span>
  <span class="n">unit_cell</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">n_bins</span> <span class="o">=</span> <span class="mi">20</span>
  <span class="n">d_min</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">batch</span> <span class="p">{</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="nb">range</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">unit_cell</span> <span class="p">{</span>
  <span class="n">refine</span> <span class="o">=</span> <span class="o">*</span><span class="n">two_theta</span>
<span class="p">}</span>
<span class="n">two_theta_refine</span> <span class="p">{</span>
  <span class="n">combine_crystal_models</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">}</span>
<span class="n">min_completeness</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">min_multiplicity</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">max_clusters</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">cluster_method</span> <span class="o">=</span> <span class="o">*</span><span class="n">cos_angle</span> <span class="n">correlation</span>
<span class="n">identifiers</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">dose</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">nproc</span> <span class="o">=</span> <span class="n">Auto</span>
<span class="n">remove_profile_fitting_failures</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">r_free_flags</span> <span class="p">{</span>
  <span class="n">generate</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">fraction</span> <span class="o">=</span> <span class="mf">0.1</span>
  <span class="n">use_lattice_symmetry</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="n">use_dataman_shells</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">n_shells</span> <span class="o">=</span> <span class="mi">20</span>
  <span class="n">extend</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">relative_to_complete_set</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="n">reference</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">}</span>
<span class="n">seed</span> <span class="o">=</span> <span class="mi">42</span>
<span class="n">output</span> <span class="p">{</span>
  <span class="n">log</span> <span class="o">=</span> <span class="n">xia2</span><span class="o">.</span><span class="n">multiplex</span><span class="o">.</span><span class="n">log</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="full-parameter-definitions">
<h2>Full parameter definitions<a class="headerlink" href="#full-parameter-definitions" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unit_cell_clustering</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Unit cell clustering&quot;</span>
<span class="p">{</span>
  <span class="n">threshold</span> <span class="o">=</span> <span class="mi">5000</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Threshold value for the clustering&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">log</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Display the dendrogram with a log scale&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
<span class="p">}</span>
<span class="n">scaling</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Scaling</span>
<span class="p">{</span>
  <span class="n">anomalous</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Separate anomalous pairs in scaling and error model optimisation.&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
  <span class="n">rotation</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Interval (in degrees) between scale factors on rotation&quot;</span>
                     <span class="s2">&quot;axis&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">brotation</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Interval (in degrees) between B-factors on rotation axis&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">secondary</span> <span class="p">{</span>
    <span class="n">lmax</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Number of spherical harmonics for absorption&quot;</span>
                       <span class="s2">&quot;correction&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
      <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">share</span><span class="o">.</span><span class="n">absorption</span> <span class="o">=</span> <span class="kc">False</span>
      <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Apply a shared absorption correction between sweeps. Only&quot;</span>
              <span class="s2">&quot;suitable for scaling measurements from a single crystal.&quot;</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Shared absorption correction&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
      <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="p">}</span>
  <span class="n">absorption_level</span> <span class="o">=</span> <span class="n">low</span> <span class="n">medium</span> <span class="n">high</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Set the extent of absorption correction in scaling&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Absorption level&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">model</span> <span class="o">=</span> <span class="n">physical</span> <span class="n">dose_decay</span> <span class="n">array</span> <span class="n">KB</span> <span class="o">*</span><span class="n">auto</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Scaling model&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
  <span class="n">outlier_rejection</span> <span class="o">=</span> <span class="n">simple</span> <span class="n">standard</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Outlier rejection&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
  <span class="n">min_partiality</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Minimum partiality&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">value_max</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">partiality_cutoff</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Partiality cutoff&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">value_max</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">reflection_selection</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Reflection selection&quot;</span>
  <span class="p">{</span>
    <span class="n">method</span> <span class="o">=</span> <span class="n">quasi_random</span> <span class="n">intensity_ranges</span> <span class="n">use_all</span> <span class="n">random</span>
      <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Method to use when choosing a reflection subset for scaling&quot;</span>
              <span class="s2">&quot;model minimisation. The quasi_random option randomly selects&quot;</span>
              <span class="s2">&quot;reflections groups within a dataset, and also selects groups&quot;</span>
              <span class="s2">&quot;which have good connectedness across datasets for multi-dataset&quot;</span>
              <span class="s2">&quot;cases. The random option selects reflection groups randomly for&quot;</span>
              <span class="s2">&quot;both single and multi dataset scaling, so for a single dataset&quot;</span>
              <span class="s2">&quot;quasi_random == random. The intensity_ranges option uses the&quot;</span>
              <span class="s2">&quot;E2_range, Isigma_range and d_range options to the subset of&quot;</span>
              <span class="s2">&quot;reflections The use_all option uses all suitable reflections,&quot;</span>
              <span class="s2">&quot;which may be slow for large datasets.&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
    <span class="n">Isigma_range</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Minimum and maximum I/sigma values used to select a subset of&quot;</span>
              <span class="s2">&quot;reflections for minimisation. A value of 0.0 for the maximum&quot;</span>
              <span class="s2">&quot;indicates that no upper limit should be applied.&quot;</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;I/σ range&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">floats</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">symmetry</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Symmetry</span>
<span class="p">{</span>
  <span class="n">resolve_indexing_ambiguity</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Resolve indexing ambiguity&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
  <span class="n">cosym</span> <span class="p">{</span>
    <span class="n">normalisation</span> <span class="o">=</span> <span class="n">kernel</span> <span class="n">quasi</span> <span class="o">*</span><span class="n">ml_iso</span> <span class="n">ml_aniso</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
    <span class="n">d_min</span> <span class="o">=</span> <span class="n">Auto</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">min_i_mean_over_sigma_mean</span> <span class="o">=</span> <span class="mi">4</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Minimum &lt;I&gt;/&lt;σ&gt;&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">min_cc_half</span> <span class="o">=</span> <span class="mf">0.6</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Minimum CC½&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">value_max</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">lattice_group</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Lattice group&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">space_group</span>
    <span class="n">space_group</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Space group&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">space_group</span>
    <span class="n">lattice_symmetry_max_delta</span> <span class="o">=</span> <span class="mf">5.0</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Lattice symmetry max δ&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">best_monoclinic_beta</span> <span class="o">=</span> <span class="kc">False</span>
      <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;If True, then for monoclinic centered cells, I2 will be&quot;</span>
              <span class="s2">&quot;preferred over C2 if it gives a less oblique cell (i.e. smaller&quot;</span>
              <span class="s2">&quot;beta angle).&quot;</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Best monoclinic β&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
    <span class="n">dimensions</span> <span class="o">=</span> <span class="n">Auto</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Dimensions</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">use_curvatures</span> <span class="o">=</span> <span class="kc">True</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Use curvatures&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
    <span class="n">weights</span> <span class="o">=</span> <span class="n">count</span> <span class="n">standard_error</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Weights</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
    <span class="n">min_pairs</span> <span class="o">=</span> <span class="mi">3</span>
      <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Minimum number of pairs for inclusion of correlation&quot;</span>
              <span class="s2">&quot;coefficient in calculation of Rij matrix.&quot;</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Minimum number of pairs&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">minimization</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Minimization</span>
    <span class="p">{</span>
      <span class="n">engine</span> <span class="o">=</span> <span class="o">*</span><span class="n">scitbx</span> <span class="n">scipy</span>
        <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Engine</span>
        <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
      <span class="n">max_iterations</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Maximum number of iterations&quot;</span>
        <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
      <span class="n">max_calls</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Maximum number of calls&quot;</span>
        <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">laue_group</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Specify the Laue group. If None, then the Laue group will be&quot;</span>
            <span class="s2">&quot;determined by dials.cosym.&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Laue group&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">space_group</span>
  <span class="n">space_group</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Specify the space group. If None, then the dials.symmetry will&quot;</span>
            <span class="s2">&quot;perform analysis of systematically absent reflections to&quot;</span>
            <span class="s2">&quot;determine the space group.&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Space group&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">space_group</span>
<span class="p">}</span>
<span class="n">reference</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;A file containing a reference set of intensities e.g. MTZ/cif, or a&quot;</span>
          <span class="s2">&quot;file from which a reference set of intensities can be calculated&quot;</span>
          <span class="s2">&quot;e.g. .pdb or .cif . The space group of the reference file will be&quot;</span>
          <span class="s2">&quot;used and if an indexing ambiguity is present, the input data will&quot;</span>
          <span class="s2">&quot;be reindexed to be consistent with the indexing mode of this&quot;</span>
          <span class="s2">&quot;reference file.&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">path</span>
  <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">resolution</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Resolution</span>
<span class="p">{</span>
  <span class="n">d_max</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Low resolution cutoff.&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Low resolution cutoff&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">d_min</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;High resolution cutoff.&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;High resolution cutoff&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">rmerge</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Maximum value of Rmerge in the outer resolution shell&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Outer shell Rmerge&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">completeness</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Minimum completeness in the outer resolution shell&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Outer shell completeness&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">cc_ref</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Minimum value of CC vs reference data set in the outer resolution&quot;</span>
            <span class="s2">&quot;shell&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Outer shell CCref&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">cc_half</span> <span class="o">=</span> <span class="mf">0.3</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Minimum value of CC½ in the outer resolution shell&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Outer shell CC½&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">cc_half_method</span> <span class="o">=</span> <span class="n">half_dataset</span> <span class="o">*</span><span class="n">sigma_tau</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;CC½ method&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
  <span class="n">cc_half_significance_level</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;CC½ significance level&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">value_max</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">cc_half_fit</span> <span class="o">=</span> <span class="n">polynomial</span> <span class="o">*</span><span class="n">tanh</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;CC½ fit&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">isigma</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Minimum value of the unmerged &lt;I/sigI&gt; in the outer resolution&quot;</span>
            <span class="s2">&quot;shell&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Outer shell unmerged &lt;I/sigI&gt;&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">misigma</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Minimum value of the merged &lt;I/sigI&gt; in the outer resolution&quot;</span>
            <span class="s2">&quot;shell&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Outer shell merged &lt;I/sigI&gt;&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">i_mean_over_sigma_mean</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Minimum value of the unmerged &lt;I&gt;/&lt;sigI&gt; in the outer resolution&quot;</span>
            <span class="s2">&quot;shell&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Outer shell unmerged &lt;I&gt;/&lt;sigI&gt;&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">nbins</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Maximum number of resolution bins to use for estimation of&quot;</span>
            <span class="s2">&quot;resolution limit.&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Number of resolution bins.&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">reflections_per_bin</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Minimum number of reflections per bin.&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Minimum number of reflections per bin&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">binning_method</span> <span class="o">=</span> <span class="o">*</span><span class="n">counting_sorted</span> <span class="n">volume</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Use equal-volume bins or bins with approximately equal numbers of&quot;</span>
            <span class="s2">&quot;reflections per bin.&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Equal-volume or equal #ref binning.&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">anomalous</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Keep anomalous pairs separate in merging statistics&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Anomalous</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">labels</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Labels</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">strings</span>
  <span class="n">space_group</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Space group&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">space_group</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">reference</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Reference</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">path</span>
  <span class="n">emax</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Reject reflections with normalised intensities E^2 &gt; emax^2&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Maximum normalised intensity&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">rescale_after_resolution_cutoff</span> <span class="o">=</span> <span class="kc">False</span>
  <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Re-scale the data after application of a resolution cutoff&quot;</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Rescale after resolution cutoff&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
<span class="n">filtering</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Filtering</span>
<span class="p">{</span>
  <span class="n">method</span> <span class="o">=</span> <span class="kc">None</span> <span class="n">deltacchalf</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Choice of whether to do any filtering cycles, default None.&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
  <span class="n">deltacchalf</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;ΔCC½&quot;</span>
  <span class="p">{</span>
    <span class="n">max_cycles</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Maximum number of cycles&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">max_percent_removed</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Maximum percentage removed&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">min_completeness</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Desired minimum completeness, as a percentage (0 - 100).&quot;</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Minimum completeness&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">value_max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="n">dataset</span> <span class="n">image_group</span>
      <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Perform analysis on whole datasets or batch groups&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
    <span class="n">group_size</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;The number of images to group together when calculating delta&quot;</span>
              <span class="s2">&quot;cchalf in image_group mode&quot;</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Group size&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">stdcutoff</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Datasets with a ΔCC½ below (mean - stdcutoff*std) are removed&quot;</span>
      <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Standard deviation cutoff&quot;</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">multi_crystal_analysis</span> <span class="p">{</span>
  <span class="n">unit_cell</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Unit cell&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">unit_cell</span>
  <span class="n">n_bins</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Number of bins&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">d_min</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;High resolution cutoff&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">batch</span>
    <span class="o">.</span><span class="n">multiple</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="p">{</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">str</span>
    <span class="nb">range</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">ints</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">unit_cell</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Unit cell&quot;</span>
<span class="p">{</span>
  <span class="n">refine</span> <span class="o">=</span> <span class="o">*</span><span class="n">two_theta</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span><span class="p">(</span><span class="n">multi</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">two_theta_refine</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;2θ refinement&quot;</span>
<span class="p">{</span>
  <span class="n">combine_crystal_models</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Combine crystal models&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
<span class="p">}</span>
<span class="n">min_completeness</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Minimum completeness&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">value_max</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">min_multiplicity</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Minimum multiplicity&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">max_clusters</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Maximum number of clusters&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">cluster_method</span> <span class="o">=</span> <span class="o">*</span><span class="n">cos_angle</span> <span class="n">correlation</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Metric on which to perform clustering&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">choice</span>
<span class="n">identifiers</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Identifiers</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">strings</span>
<span class="n">dose</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="n">Dose</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">ints</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">nproc</span> <span class="o">=</span> <span class="n">Auto</span>
  <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;The number of processors to use&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">remove_profile_fitting_failures</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Remove profile fitting failures&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
<span class="n">r_free_flags</span> <span class="p">{</span>
  <span class="n">generate</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Generate R-free flags if not already present&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
    <span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="s2">&quot;bold noauto&quot;</span>
  <span class="n">fraction</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Fraction of reflections in test set&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="n">max_free</span> <span class="o">=</span> <span class="mi">2000</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Maximum number of reflections in test set&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">lattice_symmetry_max_delta</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">use_lattice_symmetry</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Use lattice symmetry to generate test set&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="n">use_dataman_shells</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Used to avoid biasing of the test set by certain types of&quot;</span>
            <span class="s2">&quot;non-crystallographic symmetry.&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Assign test set in thin resolution shells&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
  <span class="n">n_shells</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Number of resolution shells&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">extend</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Extend existing R-free array(s) to full resolution range&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
    <span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="s2">&quot;bold noauto&quot;</span>
  <span class="n">old_test_flag_value</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Overrides automatic guess of test flag value from existing set.&quot;</span>
            <span class="s2">&quot;This will usually be 1 for reflection files generated by Phenix,&quot;</span>
            <span class="s2">&quot;and 0 for reflection files from CCP4. Do not change unless you&#39;re&quot;</span>
            <span class="s2">&quot;sure you know what flag to use!&quot;</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Original test flag value&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">d_eps</span> <span class="o">=</span> <span class="mf">0.0001</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Resolution buffer&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">d_max</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;The maximum resolution to which to generate R-free flags&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">d_min</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;The minimum resolution to which to generate R-free flags&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">relative_to_complete_set</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Generate R-free flags relative to complete set&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">bool</span>
  <span class="n">reference</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">path</span>
<span class="p">}</span>
<span class="n">exclude_images</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Input in the format exp:start:end Exclude a range of images (start,&quot;</span>
          <span class="s2">&quot;stop) from the dataset with experiment identifier exp  (inclusive&quot;</span>
          <span class="s2">&quot;of frames start, stop). Multiple ranges can be given in one go,&quot;</span>
          <span class="s2">&quot;e.g. exclude_images=0:150:200,1:200:250 exclude_images=&#39;0:150:200&quot;</span>
          <span class="s2">&quot;1:200:250&#39;&quot;</span>
  <span class="o">.</span><span class="n">short_caption</span> <span class="o">=</span> <span class="s2">&quot;Exclude images&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">strings</span>
  <span class="o">.</span><span class="n">multiple</span> <span class="o">=</span> <span class="kc">True</span>
  <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">seed</span> <span class="o">=</span> <span class="mi">42</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">output</span> <span class="p">{</span>
  <span class="n">log</span> <span class="o">=</span> <span class="n">xia2</span><span class="o">.</span><span class="n">multiplex</span><span class="o">.</span><span class="n">log</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">str</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><!--<h3>Navigation</h3>-->
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto.html">How-to</a></li>
<li class="toctree-l1"><a class="reference external" href="https://dials.github.io/kb">Knowledge Base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../workshops/index.html">Workshops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects.html">Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer container">
  <a href="https://www.diamond.ac.uk/"><img class="logofooter" alt="Diamond" src="../../_static/diamond_logo.png" /></a>
  <a href="https://www.ccp4.ac.uk/"><img class="logofooter" alt="CCP4" src="../../_static/CCP4-logo-plain.png" /></a>
  <a href="https://www.stfc.ac.uk/"><img class="logofooter" alt="STFC" src="https://dials.github.io/images/logos/ukri-stfc.png" /></a>
  <a href="https://www.lbl.gov/"><img class="logofooter" alt="LBL" src="https://dials.github.io/images/logos/lbl.png" /></a>
  <a href="http://smb.slac.stanford.edu/"><img class="logofooter" alt="SSRL/SMB" src="https://dials.github.io/images/logos/smbssrl.jpg" /></a>
  </div>

  <script type="text/javascript">
     $(document).ready(function() {
         $(".toggle > *").hide();
         $(".toggle .header").show();
         $(".toggle .header").click(function() {
             $(this).parent().children().not(".header").toggle(400);
             $(this).parent().children(".header").toggleClass("open");
         })
     });
  </script>
  
    <div class="footer">
      &copy;2023, Diamond Light Source, Lawrence Berkeley National Laboratory and STFC.
      
    </div>

    

    

  </body>
</html>