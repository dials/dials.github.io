

<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>dials.slice_sequence &#8212; DIALS  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=c058f7c8" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" href="../../_static/dials-styles.css" type="text/css" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="dials.compare_orientation_matrices" href="dials_compare_orientation_matrices.html" />
    <link rel="prev" title="dials.export_bitmaps" href="dials_export_bitmaps.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="logoheader container">
  <a href="../../index.html">
  <img class="logoheader" alt="DIALS" src="../../_static/dials_header.png" />
  </a>
  </div>
  

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="dials-slice-sequence">
<h1>dials.slice_sequence<a class="headerlink" href="#dials-slice-sequence" title="Link to this heading">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>Slice a sequence to produce a smaller sequence within the bounds of the
original. If experiments are provided, modify the scan objects within this. If
reflections are provided, remove reflections outside the provided image ranges.
Each image_range parameter refers to a single experiment ID, counting up from
zero. Any reflections with experiment ID not matched by a image_range parameter
are removed.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dials</span><span class="o">.</span><span class="n">slice_sequence</span> <span class="n">models</span><span class="o">.</span><span class="n">expt</span> <span class="n">observations</span><span class="o">.</span><span class="n">refl</span> <span class="s2">&quot;image_range=1 20&quot;</span>

<span class="n">dials</span><span class="o">.</span><span class="n">slice_sequence</span> <span class="n">models</span><span class="o">.</span><span class="n">expt</span> <span class="s2">&quot;image_range=1 20&quot;</span>

<span class="c1"># Two experiments and reflections with IDs &#39;0&#39; and &#39;1&#39;</span>
<span class="n">dials</span><span class="o">.</span><span class="n">slice_sequence</span> <span class="n">models</span><span class="o">.</span><span class="n">expt</span> <span class="n">observations</span><span class="o">.</span><span class="n">refl</span>     <span class="s2">&quot;image_range=1 20&quot;</span> <span class="s2">&quot;image_range=5 30&quot;</span>
</pre></div>
</div>
</section>
<section id="basic-parameters">
<h2>Basic parameters<a class="headerlink" href="#basic-parameters" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output</span> <span class="p">{</span>
  <span class="n">reflections_filename</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">experiments_filename</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">}</span>
<span class="n">image_range</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">block_size</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
</section>
<section id="full-parameter-definitions">
<h2>Full parameter definitions<a class="headerlink" href="#full-parameter-definitions" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output</span> <span class="p">{</span>
  <span class="n">reflections_filename</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;The filename for output reflections sliced to remove those&quot;</span>
            <span class="s2">&quot;outside the reduced image range. By default generated&quot;</span>
            <span class="s2">&quot;automatically from the input name&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">str</span>
  <span class="n">experiments_filename</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;The filename for the output experiments with sliced scans.</span>
      <span class="s2">&quot;</span>
            <span class="s2">&quot;        By default generated automatically from the input name&quot;</span>
    <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">str</span>
<span class="p">}</span>
<span class="n">image_range</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Range in images to slice a sequence. The number of arguments must&quot;</span>
          <span class="s2">&quot;be a factor of two. Each pair of arguments gives a range that&quot;</span>
          <span class="s2">&quot;follows C conventions (e.g. j0 &lt;= j &lt; j1) when slicing the&quot;</span>
          <span class="s2">&quot;reflections by observed centroid.&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">ints</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="o">.</span><span class="n">multiple</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">block_size</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Overrides image_range if present. This option splits each sequence&quot;</span>
          <span class="s2">&quot;into the nearest integer number of equal size blocks close to&quot;</span>
          <span class="s2">&quot;block_size degrees in width&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">exclude_images_multiple</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="s2">&quot;Overrides image_range and block_size if present. This option splits&quot;</span>
          <span class="s2">&quot;each scan at the specified image and at each multiple of this image&quot;</span>
          <span class="s2">&quot;number in each experiment. The specified images are also excluded&quot;</span>
          <span class="s2">&quot;from the resulting scans. This is provided as an alternative method&quot;</span>
          <span class="s2">&quot;for specifying image exclusions for cRED data, where the scan of&quot;</span>
          <span class="s2">&quot;diffraction images is interrupted at regular intervals by a crystal&quot;</span>
          <span class="s2">&quot;positioning image (typically every 20th image). The alternative is&quot;</span>
          <span class="s2">&quot;using the same-named parameter in dials.integrate, where it acts as&quot;</span>
          <span class="s2">&quot;a mask for images while keeping a single scan. Splitting the scan&quot;</span>
          <span class="s2">&quot;may be more appropriate if the experimental geometry changes after&quot;</span>
          <span class="s2">&quot;collecting calibration images.&quot;</span>
  <span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="o">.</span><span class="n">expert_level</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper"><!--<h3>Navigation</h3>-->
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howto.html">How-to</a></li>
<li class="toctree-l1"><a class="reference external" href="https://dials.github.io/kb">Knowledge Base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../workshops/index.html">Workshops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects.html">Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer container">
  <a href="https://www.diamond.ac.uk/"><img class="logofooter" alt="Diamond" src="../../_static/diamond_logo.png" /></a>
  <a href="https://www.ccp4.ac.uk/"><img class="logofooter" alt="CCP4" src="../../_static/CCP4-logo-plain.png" /></a>
  <a href="https://www.stfc.ac.uk/"><img class="logofooter" alt="STFC" src="https://dials.github.io/images/logos/ukri-stfc.png" /></a>
  <a href="https://www.lbl.gov/"><img class="logofooter" alt="LBL" src="https://dials.github.io/images/logos/lbl.png" /></a>
  <a href="http://smb.slac.stanford.edu/"><img class="logofooter" alt="SSRL/SMB" src="https://dials.github.io/images/logos/smbssrl.jpg" /></a>
  </div>

  <script type="text/javascript">
     $(document).ready(function() {
         $(".toggle > *").hide();
         $(".toggle .header").show();
         $(".toggle .header").click(function() {
             $(this).parent().children().not(".header").toggle(400);
             $(this).parent().children(".header").toggleClass("open");
         })
     });
  </script>
  
    <div class="footer">
      &#169;2024, Diamond Light Source, Lawrence Berkeley National Laboratory and STFC.
      
    </div>

    

    

  </body>
</html>